# Tesla Fullscreen Jump

The Tesla browser automatically enters "Theater Mode" when accessing certain video websites, which involves dimming the interior lights and displaying the browser in full screen. For the Chinese mainland version of Tesla, Tencent Video is one of these video websites. If you then navigate from Tencent Video to a third-party website, "Theater Mode" will not exit.

This is a single-file dark-themed HTML tool that transforms a user-entered URL into a Tencent → 1905 → target redirect chain designed to trigger Tesla Browser fullscreen behavior. The page is minimal: a URL input, a **Jump & Fullscreen** button, a cache toggle, a compact card-style history, long-press delete for history cards, and a one-click **Clear all**.

**All content in this repository is generated by ChatGPT.**

**本 repository 的所有内容均由ChatGPT生成。**

---

## Known / discovered APIs (as used by this tool)

* **Tencent video redirect**
  `https://v.qq.com/search_redirect.html?url=<ENCODED_1905_URL>`
  (wraps and redirects to a trusted URL)

* **1905 redirect API** (trusted by Tencent video)
  `https://www.1905.com/api/redirec.html?redirect_url=<ENCODED_TARGET>`
  (accepts a target URL that **must** end with `?www.1905.com` and — critically — must be a domain homepage form; allowed examples:
  `https://example.com?www.1905.com` and `https://example.com:1234?www.1905.com`.
  Not allowed: `https://example.com/?www.1905.com` or `https://example.com/somepage?www.1905.com`.)

* **Combined chain used by this tool**

  ```
  https://v.qq.com/search_redirect.html?url=<encodeURIComponent(
      https://www.1905.com/api/redirec.html?redirect_url=<encodeURIComponent( <targetHomepage>?www.1905.com )>
  )>
  ```

> The tool preserves the exact `redirec.html` filename and uses double encoding as shown above.

---

## How it works (operation principle)

1. **User input** — any string that looks like a URL or domain.
2. **Normalization** — script:

   * Prepends `https://` if protocol missing (also handles `//`).
   * Parses with `new URL(...)`. If parsing fails, shows an error.
   * Strips path, query and hash — keeping only `protocol://hostname[:port]` (this yields a *homepage*).
3. **Build inner target for 1905** — append `?www.1905.com` to the normalized homepage:

   ```
   https://example.com?www.1905.com
   ```
4. **Encode & wrap**:

   * `encodeURIComponent` the inner target and append to `https://www.1905.com/api/redirec.html?redirect_url=`
   * `encodeURIComponent` the whole 1905 URL and append to `https://v.qq.com/search_redirect.html?url=`
5. **Navigate** — script sets `window.location.href` to the final URL to perform the redirect chain (this is what triggers Tesla Browser’s fullscreen behavior, assuming the browser responds to v.qq.com → 1905 chain).
6. **History** (optional) — when cache toggle is ON, the normalized homepage (protocol + host + optional port) is saved into `localStorage` and shown as a compact clickable card:

   * Click a card → immediate jump (no intermediate fill).
   * Long-press a card (0.75 s) → delete that history entry (long-press suppresses click so no accidental navigation).
   * “Clear all” button clears local history after confirmation.
   * Max stored items: 12.

---

## Usage

1. Save the index.html file and then deploy it on your self-hosted server or other static page hosting service. Alternatively, you can use the URL automatically generated by GitHub Pages: https://fullscreen.wcy.one.
2. Enter any URL or domain in the input box (examples: `example.com`, `https://example.com/path`, `example.com:1234`).
3. Click **Jump & Fullscreen** — the tool normalizes and navigates through the Tencent → 1905 → target chain.
4. Toggle cache on/off in the top-right to enable/disable saving normalized homepages.
5. Use history cards to jump directly or long-press (0.75s) to remove a card. Use **Clear all** to remove entire history.

---

## Important details & examples

* **Normalization examples**

  * Input `example.com/some/page` → normalized to `https://example.com`
  * Input `http://example.com:1234/path` → normalized to `http://example.com:1234` (port preserved)

* **Final URL example** (for `https://example.com`):

  ```
  inner target:      https://example.com?www.1905.com
  1905 URL:          https://www.1905.com/api/redirec.html?redirect_url=https%3A%2F%2Fexample.com%3Fwww.1905.com
  final (v.qq.com):  https://v.qq.com/search_redirect.html?url=https%3A%2F%2Fwww.1905.com%2Fapi%2Fredirec.html%3Fredirect_url%3Dhttps%253A%252F%252Fexample.com%253Fwww.1905.com
  ```

* **Long-press delete**: 750 ms (both mouse and touch). If long-press deletion occurs, subsequent click will not trigger navigation for that event.

---

## Configuration (constants inside the HTML)

* `TENCENT`: Tencent redirect prefix (`https://v.qq.com/search_redirect.html?url=`)
* `SITE1905`: 1905 API prefix (`https://www.1905.com/api/redirec.html?redirect_url=`)
* `STORAGE_KEY`: `"tesla_jump_history_v1"`
* `MAX_HISTORY`: `12`
* `LONGPRESS_MS`: `750` (milliseconds)

You can edit these directly in the HTML file if you need different endpoints, a different storage key, or different time/limits.

---

## Limitations & compatibility

* Due to regulations and safety concerns, the Tesla browser is designed to only activate "Theater Mode" when the vehicle is in "Park" (P) gear; therefore, this tool is only available when the vehicle is in "P" gear.
* The tool **only constructs and navigates** to the combined redirect URL. Whether the Tesla Browser actually enters fullscreen depends on the browser and the external services (`v.qq.com` and `www.1905.com`) continuing to accept and handle redirect patterns as described.
* The 1905 endpoint used here **only accepts** homepage-style targets that end with `?www.1905.com`. Targets containing a path, trailing slash before the `?`, or extra path segments will not be accepted by that service per your original description.
* The page requires JavaScript and access to `localStorage` for history.
* This tool performs no server-side requests other than navigation initiated by the browser when the final URL is loaded.

---

## Security & privacy notes

* The tool stores only normalized homepage strings in `localStorage` (if cache is enabled). No telemetry or external logging is performed by the script.
* Do not input credentials or sensitive query strings — normalization strips path/query but you should avoid putting secrets in the input.
* Navigation to the final URL will contact external domains (`v.qq.com` and `www.1905.com`) as part of the intended redirect flow.

---


